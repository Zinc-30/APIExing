pandas - searching for a character in a DataFrame
I have a pandas DataFrame ( ` df `) that I need to search for a semicolon . I first tried with
` semicolon_check = df.to_string() .__contains__ ( ' ; ')` ,
but it is very slow and in case of large DataFrames I run into a Memory error . Then I tried to loop over columns with ` .str ` , but not all columns are strings so whenever I reached a numeric column I received an error
` AttributeError : Can only use .str accessor with string values , which use np.object_ dtype in pandas `
so I ended up with this code
` for col in df.columns :
if df [ col ] .dtype == ' O ' :
if df [ col ] .str .contains ( r ' ; ') .any() :
print ' found in ' + col `
is there an easier way to achieve the goal ? The above , although working as expected seems like a bit too much of an effort for such an elementary task like value search .
This may not be the most efficient way but it loops safely : ` df.applymap ( lambda x : " ; " in str ( x ))` .
You can filter just strings columns using ` select_dtypes ` and then call ` apply ` and pass a ` lambda ` to call ` str.contains ` with ` any ` :
We can use the columns array from the filtered df along with the mask to filter the cols :