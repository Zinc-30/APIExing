How	O
to	O
save	O
a	O
figure	O
remotely	O
with	O
pylab	O
?	O

[	O
duplicate	O
]	O

This	O
question	O
already	O
has	O
an	O
answer	O
here	O
:	O

Generating	O
a	O
PNG	O
with	O
matplotlib	O
when	O
DISPLAY	O
is	O
undefined	O

10	O
answers	O

I'm	O
trying	O
to	O
generate	O
a	O
figure	O
at	O
a	O
remote	O
computer	O
with	O
the	O
command	O
`	O
pylab.savefig	O
`	O
.	O

But	O
I	O
got	O
such	O
error	O
:	O

How	O
can	O
I	O
save	O
the	O
figure	O
properly	O
?	O

Related	O
:	O
stackoverflow.com/questions/2801882	O

By	O
default	O
,	O
matplotlib	O
will	O
use	O
something	O
like	O
the	O
`	O
TkAgg	O
`	O
backend	O
.	O

This	O
requires	O
an	O
X-server	O
to	O
be	O
running	O
.	O

While	O
you	O
can	O
just	O
use	O
X-forwarding	O
,	O
there	O
will	O
be	O
a	O
noticeable	O
lag	O
as	O
matplotlib	O
tries	O
to	O
connect	O
with	O
the	O
remote	O
X-server	O
.	O

If	O
you	O
don't	O
need	O
to	O
interact	O
with	O
the	O
plot	O
,	O
it's	O
often	O
nicer	O
to	O
speed	O
things	O
up	O
by	O
avoiding	O
an	O
X-connection	O
entirely	O
.	O

If	O
you	O
want	O
to	O
make	O
a	O
plot	O
without	O
needing	O
an	O
X-server	O
at	O
all	O
,	O
use	O
the	O
`	O
Agg	B-API
`	O
backend	O
instead	O
.	O

E.g.	O

do	O
something	O
like	O
this	O
:	O

If	O
you	O
want	O
this	O
to	O
be	O
the	O
default	O
behavior	O
,	O
you	O
can	O
modify	O
your	O
matplotlibrc	O
file	O
to	O
use	O
the	O
`	O
Agg	B-API
`	O
backend	O
by	O
default	O
.	O

See	O
this	O
article	O
for	O
more	O
information	O
.	O

I	O
had	O
the	O
same	O
problem	O
with	O
gerry	O
.	O

For	O
me	O
,	O
Joe's	O
trick	O
alone	O
is	O
not	O
enough	O
,	O
I	O
also	O
needed	O
to	O
do	O
ssh	O
-X	O
nos@USER.com	O
instead	O
of	O
just	O
ssh	O

Thanks	O
a	O
lot	O
.	O

This	O
solution	O
is	O
more	O
clear	O
than	O
any	O
other	O
solution	O
....	O

Hello	O
Joe	O
,	O
I	O
got	O
a	O
kind	O
of	O
questions	O
i	O
plot	O
.	O

I	O
need	O
expert	O
advice	O
like	O
you	O
,	O
please	O
have	O
a	O
look	O
stackoverflow.com/questions/36248016	O

matplotlib.use	O
(	O
'	O
Agg	B-API
')	O
did	O
not	O
work	O
for	O
me	O
but	O
changing	O
the	O
backend	O
default	O
to	O
Agg	B-API
in	O
the	O
matplotlibrc	O
file	O
(	O
located	O
at	O
/	O
usr	O
/	O
local	O
/	O
lib	O
/	O
python2.7	O
/	O
dist-packages	O
/	O
matplotlib	O
/	O
mpl-data	O
/	O
m	O
atplotlibrc	O
)	O
worked	O
for	O
me	O

still	O
I	O
have	O
the	O
runtime	O
error	O
:(	O
File	O
"	O
/	O
home	O
/	O
user	O
/	O
anaconda2	O
/	O
lib	O
/	O
python2.7	O
/	O
site-packages	O
/	O
matplotlib	O
/	O
backends	O
/	O
backend_qt	O
5.py	O
"	O
,	O
line	O
138	O
,	O
in	O
_create_qApp	O
raise	O
RuntimeError	O
(	O
'	O
Invalid	O
DISPLAY	O
variable	O
')	O
RuntimeError	O
:	O
Invalid	O
DISPLAY	O
variable	O

Umm	O
,	O
set	O
the	O
DISPLAY	O
variable	O
properly	O
?	O

Graphics	O
over	O
the	O
network	O
using	O
X11	O
work	O
by	O
the	O
client	O
(	O
remote	O
)	O
computer	O
having	O
a	O
DISPLAY	O
environment	O
variable	O
that	O
says	O
where	O
to	O
draw	O
the	O
graphics	O
.	O

Typically	O
it	O
would	O
be	O
something	O
like	O
mydesktop.example.com:0.0	O
-	O
then	O
when	O
an	O
X11	O
program	O
tries	O
to	O
draw	O
something	O
,	O
it	O
gets	O
whizzed	O
over	O
the	O
network	O
to	O
mydesktop.example.com	O
,	O
which	O
is	O
the	O
machine	O
you	O
are	O
sitting	O
in	O
front	O
of	O
(	O
the	O
X	O
server	O
)	O
and	O
up	O
it	O
pops	O
.	O

Now	O
,	O
if	O
the	O
machine	O
in	O
front	O
of	O
you	O
is	O
Windows	O
,	O
then	O
you'll	O
need	O
to	O
get	O
an	O
X	O
server	O
from	O
somewhere	O
-	O
cygwin	O
/	O
X11	O
or	O
commercial	O
eXceed	O
will	O
do	O
nicely	O
.	O

You	O
also	O
need	O
to	O
make	O
sure	O
security	O
is	O
handled	O
-	O
you	O
cant	O
just	O
have	O
anyone	O
writing	O
to	O
your	O
screen	O
over	O
the	O
network	O
.	O

How	O
are	O
you	O
connecting	O
to	O
the	O
remote	O
machine	O
?	O

Because	O
if	O
you	O
are	O
going	O
from	O
a	O
Linux	O
box	O
to	O
another	O
Linux	O
box	O
with	O
ssh	O
then	O
the	O
simple	O
solution	O
is	O
probably	O
'	O
Use	O
ssh	O
-X	O
foo.example.com	O
'	O
to	O
connect	O
-	O
this	O
pipes	O
the	O
X11	O
connection	O
over	O
a	O
local	O
socket	O
.	O

So	O
,	O
if	O
ssh	O
-X	O
isnt	O
the	O
answer	O
,	O
can	O
we	O
have	O
some	O
more	O
info	O
on	O
the	O
operating	O
systems	O
involved	O
please	O
?	O

Thanks	O
for	O
your	O
explanation	O
.	O

I'm	O
ssh	O
a	O
linux	O
machine	O
under	O
windows	O
.	O

Is	O
that	O
possible	O
to	O
make	O
the	O
figure	O
without	O
X11	O
?	O

Not	O
so	O
that	O
it	O
appears	O
on-screen	O
-	O
you'd	O
have	O
to	O
get	O
pylab	O
to	O
write	O
it	O
to	O
a	O
file	O
and	O
then	O
copy	O
that	O
file	O
to	O
your	O
Windows	O
box	O
.	O

Maybe	O
give	O
winswitch.org	O
a	O
go	O
-	O
that's	O
an	O
easy	O
interface	O
to	O
fancy	O
cross-platform	O
graphics	O
fun	O
.	O

I	O
did	O
"	O
ssh	O
-X	O
username	O
@USER	O
"	O
from	O
my	O
linux	O
box	O
to	O
another	O
linux	O
box	O
and	O
it	O
worked	O

Hello	O
Spacedman	O
,	O
I	O
got	O
a	O
kind	O
of	O
questions	O
i	O
plot	O
.	O

I	O
need	O
expert	O
advice	O
like	O
you	O
,	O
please	O
have	O
a	O
look	O
stackoverflow.com/questions/36248016	O

