Plotting time in Python with Matplotlib
I have an array of timestamps in the format ( HH : MM : SS.mmmmmm ) and another array of floating point numbers , each corresponding to a value in the timestamp array .
Can I plot time on the x axis and the numbers on the y-axis using Matplotlib ?
I was trying to , but somehow it was only accepting arrays of floats . How can I get it to plot the time ? Do I have to modify the format in any way ?
You must first convert your timestamps to Python ` datetime ` objects ( use ` datetime.strptime `) . Then use ` date2num ` to convert the dates to matplotlib format .
Plot the dates and values using ` plot_date ` :
will it plot the Date or just the time ? I only want the time since on conversion to datetime , the year is set to 1990 .
" ... on conversion to datetime , the year is set to 1990 " : Could you please post the code you use to convert from string to datetime ? Something might be wrong with the conversion . Re . the formatting of chart labels , see the date_demo1 link provided by J . K . Sepp nen . The matplot lib documentation is excellent , BTW . matplotlib.sourceforge.net/index.html
plot_dates -- matplotlib.pyplot.plot_date ( dates , values )
What about a scatter plot ? I want to provide a size array to determine the size of the scatter-bubbles , but there is no equivalent ` scatter_date() ` , and no obvious / direct way to get this graph .
The above returns a list with one object of type : matplotlib.lines.Line2D object . Now how do I use this to show the graph ?
You can also plot the timestamp , value pairs using pyplot.plot ( after parsing them from their string representation ) . ( Tested with matplotlib versions 1.2.0 and 1.3.1 . )
Example :
Resulting image :
Here's the same as a scatter plot :
Produces an image similar to this :
how to get it working for scatter plot ?
@USER it should work just as in my example ( change ` plot ` to ` scatter `) .
I don't understand why this is the 5th question I've encountered where no one has actually TRIED using a scatter plot - it doesn't work . ` Type Error - invalid type promotion ` .
@USER Then , maybe you're doing something wrong . I've added an example for the scatter plot with ` datetime.datetime ` objects on the x axis to my post .
For the grid add ` plt.grid ( True )`
7 years later and this code has helped me .
However , my times still were not showing up correctly .
Using Matplotlib 2.0.0 and I had to add the following bit of code from Editing the date formatting of x-axis tick labels in matplotlib by Paul H .
I changed the format to ( %H : %M ) and the time displayed correctly .
All thanks to the community .