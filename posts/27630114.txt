Matplotlib issue on OS X ( “ImportError : cannot import name _thread” )
At some point in the last few days , Matplotlib stopped working for me on OS X . Here's the error I get when trying to ` import matplotlib ` :
The only system change I can think of was the Apple-forced NTP update and maybe some permission changes I did in / usr / local to get Brew working again .
I tried reinstalling both Matplotlib and Python-dateutil via Pip , but this did not help . Also tried a reboot . I'm running Python 2.7.6 , which is located in / usr / bin / python . I'm running Yosemite ( OS X 10.10.1 ) .
I had the same error message this afternoon as well , although I did recently upgrade to Yosemite . I'm not totally sure I understand why reverting dateutil to a previous version works for me , but since running the above I'm having no trouble ( I generally use pyplot inline in an ipython notebook ) .
Thanks , that solved the issue for me as well . I submitted a bug to the developer : github.com/dateutil/dateutil/issues/12
I think updating your version of ` six ` would also work .
Thanks for your suggestion @USER , I looked into it and I am already running the latest version of six .
I love you . That was a huge waste of my time . Almost 3 hours have breezed by and this one answer is all I really needed . Thank you .
Seems to be a new issue in El Capitan -- an old version of " six " is included in '' / System / Library / Frameworks / Python.framework / Versions / 2.7 / E xtras / lib / python / six .py ' which can't be upgraded without disabling rootless .
This problem is fixed in the latest ` six ` and ` dateutil ` versions . However , in OS X , even if you update your ` six ` to the latest version , you might not actually update it correctly . This is what happened to me :
After doing a ` pip2 install six -U ` , the new ` six ` module was installed in ` / Library / Python / 2.7 / site-packages / ` . However , when I loaded ` six ` in a python 2.7 terminal , and checked its path , this is what I got :
So , python was using an old version of ` six ` , which I removed by typing :
This fixed this issue for me .
this worked for me on Yosemite .
this worked for me in Yosemite also . Thanks for sharing ..
The only answer that worked for me . Thank you .
this worked for me
This worked for me on 10.10.4 ( I also have a newer version of six which is installed by pip but not imported by default ) . Thanks .
It is possible that you have a perfectly installed version of any packages you have installed , but the version used by default is not the one you want . You can see the list of paths that python search from in order to find its packages as follows :
In order to let python search first the most updated version of certain package , instead of removing the system version , what can be done is to set the system variable ` PYTHONPATH ` in the ~ / .bash_profile ( or ~ / .bashrc if linux ) config file to the path where the new packages are installed :
An alternative is to modify the python path inside your python script by adding the path at the beginning of the path list :
This needs to be done for every script you need a certain package version . You might want for some reason use an older version that you have installed .
BTW all my installations with easy_install , or pip , or from sources go to / Library / Python / 2.7 / site-packages
This worked en EL Capitan , and now also in macOS Sierra ( 10.12.2 )
Installing the ` python-dateutil == 2.2 ` did not work for me .
But a quick-and-dirty workaround did work ! I replace ` six.py ` in python 2.7 with the ` six.py ` from python 3.4 ( virtualenv ) . Since , I have the problem in 2.7 but not 3.4 .
UPDATE
I had the same problem again after reinstalling python ( and after upgrading to El Capitan ) . Un-obvious thing is that this error occurs only in the ` IPython ` shell and notebook ( when I do ` import matplotlib.pyplot as plt `) but works fine from a Python shell .
So a better solution ( that did work in my case ) without a dirty work-around is to force install both ` six ` and ` ipython ` . Here is what I did to have this fixed :
I have the same issue . The dateutil fix did not work . I am not that keen to hack my 2.7 , any better ideas ?